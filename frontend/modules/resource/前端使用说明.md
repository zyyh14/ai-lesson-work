# AI 教师备课系统 - 前端使用说明

## 项目概述

这是一个基于 React + TypeScript + Vite 构建的 AI 教师备课系统前端应用。系统通过调用后端 API 实现：
- 智能搜索和整理教学资源
- AI 生成练习题
- 资源收藏管理

## 技术栈

- **React 19** - UI 框架
- **TypeScript** - 类型安全
- **Vite** - 构建工具
- **Tailwind CSS** - 样式（通过 CDN）
- **Font Awesome** - 图标库

## 项目结构

```
.
├── index.html              # HTML 入口文件
├── index.tsx               # React 应用主文件
├── src/
│   └── services/
│       └── api.ts          # API 服务层
├── package.json            # 项目依赖
├── tsconfig.json           # TypeScript 配置
├── vite.config.ts          # Vite 配置
├── .env.local              # 环境变量（后端 API 密钥）
└── API接口文档.md          # 后端 API 文档
```

## 安装依赖

```bash
npm install
```

## 启动项目

### 1. 确保后端服务已启动

后端服务需要运行在 `http://localhost:8000`

检查后端是否启动：
```bash
curl http://localhost:8000/health
```

应该返回：
```json
{"status": "healthy"}
```

### 2. 启动前端开发服务器

```bash
npm run dev
```

前端将运行在：`http://localhost:3000`

## 功能说明

### 1. 推荐资源

- 输入教学主题（如"静夜思"、"勾股定理"）
- 点击"获取推荐"按钮
- AI 将搜索网络资源并整理成教学报告
- 可以收藏喜欢的资源

**注意**：资源搜索需要 20-40 秒，请耐心等待

### 2. 习题实验室

- 输入教学主题
- 选择难度等级（小学/初中/高中/大学）
- 点击"生成练习题"
- AI 将生成包含选择题、填空题、简答题的练习集
- 可以保存练习题到收藏库

**注意**：练习题生成需要 5-15 秒

### 3. 资源收藏

- 查看已收藏的教学资源
- 查看已保存的练习题集
- 可以删除或重新打开查看

## API 接口说明

### 搜索教学资源

```typescript
GET /api/v1/resources/search?query=静夜思&limit=5&page=1
```

返回：
- 资源列表
- AI 整理的完整教学内容
- 参考资源链接

### 生成练习题

```typescript
POST /api/v1/exercises/generate
Content-Type: application/json

{
  "knowledge_point": "初中水平 - 李白《静夜思》"
}
```

返回：
- 选择题（带选项）
- 填空题
- 简答题
- 每题包含答案和解析

## 环境变量

`.env.local` 文件包含后端所需的 API 密钥：

```env
# Database
SUPABASE_URL=https://mgwychggcuvinqskvnem.supabase.co
SUPABASE_KEY=your_supabase_key

# AI Configuration
ZHIPU_API_KEY=your_zhipu_api_key

# Tavily
TAVILY_API_KEY=your_tavily_api_key
```

**注意**：这些密钥由后端使用，前端不需要配置

## 构建生产版本

```bash
npm run build
```

构建产物将输出到 `dist/` 目录

预览生产版本：
```bash
npm run preview
```

## 常见问题

### 1. 网络连接失败

**错误信息**：网络连接失败，请检查后端服务是否启动

**解决方案**：
- 确保后端服务运行在 `http://localhost:8000`
- 检查后端日志是否有错误
- 确认 `.env.local` 中的 API 密钥配置正确

### 2. 搜索资源超时

**原因**：资源搜索需要 20-40 秒

**解决方案**：
- 耐心等待，不要重复点击
- 查看加载提示信息
- 如果超过 60 秒仍无响应，检查后端日志

### 3. 生成练习题失败

**可能原因**：
- 后端 AI 服务配置错误
- 智谱 API 密钥无效
- 网络问题

**解决方案**：
- 检查后端日志
- 验证 `.env.local` 中的 `ZHIPU_API_KEY`
- 确认智谱 API 账户有足够额度

## 开发说明

### 添加新功能

1. 在 `src/services/api.ts` 中添加新的 API 函数
2. 在 `index.tsx` 中添加对应的 UI 和状态管理
3. 更新类型定义

### 修改样式

项目使用 Tailwind CSS，样式直接写在 className 中：

```tsx
<div className="bg-white rounded-lg p-4 shadow-md">
  内容
</div>
```

### 调试技巧

1. 打开浏览器开发者工具（F12）
2. 查看 Console 标签页的错误信息
3. 查看 Network 标签页的 API 请求
4. 使用 React DevTools 查看组件状态

## 技术支持

- 查看 API 文档：`API接口文档.md`
- 后端 Swagger 文档：`http://localhost:8000/docs`
- 项目 README：`README.md`

## 更新日志

### v1.0.0 (2025-12-21)

- ✅ 完成前端基础架构
- ✅ 集成后端 API 接口
- ✅ 实现资源搜索功能
- ✅ 实现练习题生成功能
- ✅ 实现收藏管理功能
- ✅ 添加加载状态提示
- ✅ 优化用户体验

---

**开发者**：AI 教师备课系统团队  
**最后更新**：2025-12-21
